checkout:
  pre:
    - cd search-ignition && git submodule init && git submodule update

  post:
    - mkdir -p /home/ubuntu/.sbt/.lib/sbt.version/
    - cp /home/ubuntu/.sbt/.lib/0.13.6/sbt-launch.jar /home/ubuntu/.sbt/.lib/sbt.version/sbt-launch.jar
    - sbt compile

test:
  override:
    - sbt coverage test
    - cp -r /home/ubuntu/search-ignition/target/scala-2.10/scoverage-report $CIRCLE_ARTIFACTS/
